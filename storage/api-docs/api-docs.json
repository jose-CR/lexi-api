{
    "openapi": "3.0.0",
    "info": {
        "title": "Lexi API",
        "description": "Documentación de endpoints",
        "version": "1.0.0"
    },
    "servers": [
        {
            "url": "http://localhost:8000/api/v1",
            "description": "Servidor local"
        }
    ],
    "paths": {
        "/categories": {
            "get": {
                "tags": [
                    "Categories"
                ],
                "summary": "Listar todas las categorías",
                "operationId": "d5d9c7dd89fc28763c04c21c773e08f2",
                "parameters": [
                    {
                        "name": "includeSubCategories",
                        "in": "query",
                        "description": "Incluir subcategorías en la respuesta",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "example": true
                        }
                    },
                    {
                        "name": "page",
                        "in": "query",
                        "description": "Número de página para la paginación",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Listado de categorías"
                    }
                }
            }
        },
        "/categories/{id}": {
            "get": {
                "tags": [
                    "Categories"
                ],
                "summary": "Obtener una categoría",
                "description": "Devuelve los detalles de una categoría, con opción de incluir subcategorías",
                "operationId": "b1e75677b2083bbe1dfd35f3fa25f820",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID de la categoría",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    },
                    {
                        "name": "includeSubCategories",
                        "in": "query",
                        "description": "Incluir subcategorías",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "example": true
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Categoría obtenida correctamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Category"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Categoría no encontrada"
                    }
                }
            }
        },
        "/subcategories": {
            "get": {
                "tags": [
                    "SubCategories"
                ],
                "summary": "Listar todas las subcategorías",
                "description": "Muestra un listado paginado de subcategorías. Puede incluir palabras relacionadas si se solicita.",
                "operationId": "a4031afb0a2486cfba1fa884c7bf1416",
                "parameters": [
                    {
                        "name": "includeWords",
                        "in": "query",
                        "description": "Incluir palabras asociadas",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "example": true
                        }
                    },
                    {
                        "name": "page",
                        "in": "query",
                        "description": "Número de página",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Listado de subcategorías con paginación",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "info": {
                                            "properties": {
                                                "count": {
                                                    "type": "integer",
                                                    "example": 50
                                                },
                                                "pages": {
                                                    "type": "integer",
                                                    "example": 5
                                                },
                                                "next": {
                                                    "type": "string",
                                                    "example": "http://api.test/subcategories?page=2",
                                                    "nullable": true
                                                },
                                                "prev": {
                                                    "type": "string",
                                                    "example": null,
                                                    "nullable": true
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/SubCategory"
                                            }
                                        },
                                        "meta": {
                                            "properties": {
                                                "current_page": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "per_page": {
                                                    "type": "integer",
                                                    "example": 10
                                                },
                                                "from": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "to": {
                                                    "type": "integer",
                                                    "example": 10
                                                },
                                                "last_page": {
                                                    "type": "integer",
                                                    "example": 5
                                                },
                                                "total": {
                                                    "type": "integer",
                                                    "example": 50
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "links": {
                                            "properties": {
                                                "first": {
                                                    "type": "string",
                                                    "example": "http://api.test/subcategories?page=1"
                                                },
                                                "prev": {
                                                    "type": "string",
                                                    "example": null,
                                                    "nullable": true
                                                },
                                                "next": {
                                                    "type": "string",
                                                    "example": "http://api.test/subcategories?page=2",
                                                    "nullable": true
                                                },
                                                "last": {
                                                    "type": "string",
                                                    "example": "http://api.test/subcategories?page=5"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/subcategories/{id}": {
            "get": {
                "tags": [
                    "SubCategories"
                ],
                "summary": "Mostrar subcategoría específica",
                "operationId": "d9127e4dbf53fb6ab94688eac92dafb2",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID de la subcategoría",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "includeWords",
                        "in": "query",
                        "description": "Incluir palabras asociadas",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "example": true
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Detalle de subcategoría",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/SubCategory"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/words": {
            "get": {
                "tags": [
                    "Words"
                ],
                "summary": "Listar palabras",
                "description": "Devuelve un listado paginado de palabras con filtros opcionales.",
                "operationId": "49ba09a7da8a0177253ca717ca18a963",
                "parameters": [
                    {
                        "name": "page",
                        "in": "query",
                        "description": "Número de página",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Listado paginado de palabras",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "info": {
                                            "properties": {
                                                "count": {
                                                    "type": "integer",
                                                    "example": 100
                                                },
                                                "pages": {
                                                    "type": "integer",
                                                    "example": 10
                                                },
                                                "next": {
                                                    "type": "string",
                                                    "example": "http://api.test/words?page=2",
                                                    "nullable": true
                                                },
                                                "prev": {
                                                    "type": "string",
                                                    "example": null,
                                                    "nullable": true
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/Word"
                                            }
                                        },
                                        "meta": {
                                            "properties": {
                                                "current_page": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "per_page": {
                                                    "type": "integer",
                                                    "example": 15
                                                },
                                                "total": {
                                                    "type": "integer",
                                                    "example": 100
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "links": {
                                            "properties": {
                                                "first": {
                                                    "type": "string",
                                                    "example": "http://api.test/words?page=1"
                                                },
                                                "last": {
                                                    "type": "string",
                                                    "example": "http://api.test/words?page=10"
                                                },
                                                "prev": {
                                                    "type": "string",
                                                    "example": null,
                                                    "nullable": true
                                                },
                                                "next": {
                                                    "type": "string",
                                                    "example": "http://api.test/words?page=2",
                                                    "nullable": true
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/words/{id}": {
            "get": {
                "tags": [
                    "Words"
                ],
                "summary": "Obtener palabra",
                "description": "Devuelve una palabra específica por ID.",
                "operationId": "a966d752dc7ef69eb668892e80798381",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID de la palabra",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Detalle de la palabra",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Word"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Palabra no encontrada"
                    }
                }
            }
        }
    },
    "components": {
        "schemas": {
            "Category": {
                "title": "Category",
                "required": [
                    "id",
                    "name"
                ],
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1
                    },
                    "name": {
                        "type": "string",
                        "example": "Ejemplo"
                    },
                    "subcategories": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/Category"
                        }
                    }
                },
                "type": "object"
            },
            "SubCategory": {
                "title": "SubCategory",
                "description": "Modelo de SubCategory",
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1
                    },
                    "category_id": {
                        "type": "integer",
                        "example": 2
                    },
                    "subcategory": {
                        "type": "string",
                        "example": "Animales"
                    },
                    "category": {
                        "oneOf": [
                            {
                                "$ref": "#/components/schemas/Category"
                            }
                        ],
                        "nullable": true
                    },
                    "words": {
                        "description": "Lista de palabras relacionadas",
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/Word"
                        }
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time",
                        "example": "2025-09-05T12:00:00Z"
                    },
                    "updated_at": {
                        "type": "string",
                        "format": "date-time",
                        "example": "2025-09-05T12:00:00Z"
                    }
                },
                "type": "object"
            },
            "Word": {
                "title": "Word",
                "description": "Modelo de palabras asociadas a una subcategoría",
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1
                    },
                    "sub_category_id": {
                        "type": "integer",
                        "example": 2
                    },
                    "letter": {
                        "type": "string",
                        "maxLength": 1,
                        "example": "A"
                    },
                    "word": {
                        "type": "string",
                        "example": "Apple"
                    },
                    "definition": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "example": [
                            "A fruit",
                            "A tech company"
                        ]
                    },
                    "spanish_sentence": {
                        "type": "string",
                        "example": "La manzana es una fruta."
                    },
                    "sentence": {
                        "type": "string",
                        "example": "Apple is a leading tech company."
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time",
                        "example": "2025-09-05T12:00:00Z"
                    },
                    "updated_at": {
                        "type": "string",
                        "format": "date-time",
                        "example": "2025-09-05T12:00:00Z"
                    }
                },
                "type": "object"
            }
        }
    },
    "tags": [
        {
            "name": "Categories",
            "description": "Categories"
        },
        {
            "name": "SubCategories",
            "description": "SubCategories"
        },
        {
            "name": "Words",
            "description": "Words"
        }
    ]
}